<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CFO - Account Creation</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#eef2f7;
    padding:40px;
}

.container{
    max-width:1000px;
    margin:auto;
}

h2{
    text-align:center;
    color:#2c3e50;
}

table{
    width:100%;
    background:white;
    border-collapse: collapse;
    margin-top:20px;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

th, td{
    padding:12px;
    border:1px solid #ddd;
    text-align:center;
}

th{
    background:#4a90e2;
    color:white;
}

input, select{
    padding:6px;
    width:95%;
}

button{
    padding:8px 14px;
    background:#4a90e2;
    color:white;
    border:none;
    border-radius:4px;
    cursor:pointer;
}

button:hover{
    background:#357abd;
}

.add-btn{
    margin-top:20px;
}

.rules-btn{
    margin-top:25px;
    width:200px;
}
</style>
</head>

<body>

<div class="container">

<h2>CFO - Create Users</h2>

<table>
<thead>
<tr>
    <th>User Name</th>
    <th>Role</th>
    <th>Manager</th>
    <th>Gmail</th>
    <th>Password</th>
</tr>
</thead>

<tbody id="userTable">
<tr>
    <td><input type="text" placeholder="Enter Name"></td>

    <td>
        <select onchange="updateManager(this)">
            <option value="">Select</option>
            <option value="manager">Manager</option>
            <option value="employee">Employee</option>
        </select>
    </td>

    <td><input type="text" class="manager-field" placeholder="Manager Name"></td>

    <td><input type="email" placeholder="Enter Gmail"></td>

    <td>
        <button onclick="generatePassword()">Send</button>
    </td>
</tr>
</tbody>
</table>

<!-- Add User Button -->
<div style="text-align:center;">
    <button class="add-btn" onclick="addUser()">+ Add User</button>
</div>

<!-- Set Rules Button -->
<div style="text-align:center;">
    <button class="rules-btn" onclick="openRules()">Set Rules</button>
</div>

</div>

<script>

// Update Manager Field
function updateManager(selectElement){
    let row = selectElement.parentElement.parentElement;
    let managerField = row.querySelector(".manager-field");

    if(selectElement.value === "manager"){
        managerField.value = "-";
        managerField.disabled = true;
    } else {
        managerField.value = "";
        managerField.disabled = false;
    }
}

// Generate Random Password
function generatePassword(){
    let chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
    let password = "";
    for(let i=0;i<10;i++){
        password += chars.charAt(Math.floor(Math.random()*chars.length));
    }

    alert("Auto Generated Password:\n" + password +
    "\n\n(Email sending requires backend integration)");
}

// Add New User Row
function addUser(){
    const table = document.getElementById("userTable");

    const newRow = document.createElement("tr");

    newRow.innerHTML = `
        <td><input type="text" placeholder="Enter Name"></td>

        <td>
            <select onchange="updateManager(this)">
                <option value="">Select</option>
                <option value="manager">Manager</option>
                <option value="employee">Employee</option>
            </select>
        </td>

        <td><input type="text" class="manager-field" placeholder="Manager Name"></td>

        <td><input type="email" placeholder="Enter Gmail"></td>

        <td>
            <button onclick="generatePassword()">Send</button>
        </td>
    `;

    table.appendChild(newRow);
}

// Open Rule Page
function openRules(){
    window.location.href = "rules.html";
}

</script>

</body>
</html>
